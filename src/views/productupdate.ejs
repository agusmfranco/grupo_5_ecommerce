<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblo | Modificar libro</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@500&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/x-icon" href="/images/logo/favicon.ico" />
    <link href="/css/all.css" rel="stylesheet">
</head>
<body class="bg-biblogreen-100">
    <%- include('./partials/header') %>
    <div class="px-8 py-8 w-full font-roboto max-w-md md:max-w-screen-md mx-auto text-xs text-gray-800">
        <form action="/products/<%= old_data.id %> ?_method=PUT" method="POST" enctype="multipart/form-data">    
            <div class="bg-white px-4 py-6 rounded-md shadow-md mb-4 hover:shadow-lg md:flex md:flex-col">
                <input type="text" id="id" name="id" value=<%= old_data.id %> class="hidden">
                <div class="mb-5 md:flex">
                    <div class="md:w-1/2 md:mr-3">
                        <label for="titulo" class="block mb-2">Título</label>
                        <% if(typeof errors !== "undefined" && typeof body_data !== "undefined") { %>
                            <% if("titulo" in errors) { %>
                                <input id="titulo" type="text" name="titulo" placeholder="Título" autofocus class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } else { %>
                                <input id="titulo" type="text" name="titulo" value="<%=body_data.titulo%>" placeholder="Título" autofocus class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } %> 
                        <% } else { %>
                            <input id="titulo" type="text" name="titulo" value="<%=old_data.titulo%>" placeholder="Título" autofocus class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                        <% } %>   
                        <% if(typeof errors !== "undefined") { %>
                            <% if('titulo' in errors) { %>
                                <span class="text-xs text-red-600"> <%= errors.titulo.msg %>  </span>
                            <% } %> 
                        <% } %>  
                    </div>
                    <div class="md:w-1/2 md:ml-3">
                        <label for="autor" class="block mb-2">Autor</label>
                        <% if(typeof errors !== "undefined" && typeof body_data !== "undefined") { %>
                            <% if("autor" in errors) { %>
                                <input id="autor" type="text" name="autor" placeholder="Autor" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } else { %>
                                <input id="autor" type="text" name="autor" value="<%=body_data.autor%>" placeholder="Autor" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } %>   
                        <% } else { %>
                            <input id="autor" type="text" name="autor" value="<%=old_data.autor%>" placeholder="Autor" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                        <% } %>  
                        <% if(typeof errors !== "undefined") { %>
                            <% if('autor' in errors) { %>
                                <span class="text-xs text-red-600"> <%= errors.autor.msg %>  </span>
                            <% } %> 
                        <% } %>  
                    </div>
                </div>
                <div class="mb-5 md:flex">
                    <div class="md:w-1/2 md:mr-3">
                        <label for="editorial" class="block mb-2">Editorial</label>
                        <% if(typeof errors !== "undefined" && typeof body_data !== "undefined") { %>
                            <% if("editorial" in errors) { %>
                                <input id="editorial" type="text" name="editorial" placeholder="Editorial" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } else { %>
                                <input id="editorial" type="text" name="editorial" value="<%=body_data.editorial%>" placeholder="Editorial" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } %>   
                        <% } else { %>
                            <input id="editorial" type="text" name="editorial" value="<%=old_data.editorial%>" placeholder="Editorial" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                        <% } %>  
                        <% if(typeof errors !== "undefined") { %>
                            <% if('editorial' in errors) { %>
                                <span class="text-xs text-red-600"> <%= errors.editorial.msg %>  </span>
                            <% } %> 
                        <% } %> 
                    </div>
                    <div class="md:w-1/2 md:ml-3">
                        <label for="genero" class="block mb-2">Género</label>
                        <% if(typeof errors !== "undefined" && typeof body_data !== "undefined") { %>
                            <% if("genero" in errors) { %>
                                <input id="genero" type="text" name="genero" placeholder="Género" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } else { %>
                                <input id="genero" type="text" name="genero" value="<%=body_data.genero%>" placeholder="Género" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } %>   
                        <% } else { %>
                            <input id="genero" type="text" name="genero" value="<%=old_data.genero%>" placeholder="Género" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                        <% } %> 
                        <% if(typeof errors !== "undefined") { %>
                            <% if('genero' in errors) { %>
                                <span class="text-xs text-red-600"> <%= errors.genero.msg %>  </span>
                            <% } %> 
                        <% } %> 
                    </div>
                </div>
                <div class="mb-5 md:flex">
                    <div class="md:w-1/2 md:mr-3">
                        <label for="isbn" class="block mb-2">ISBN</label>
                        <% if(typeof errors !== "undefined" && typeof body_data !== "undefined") { %>
                            <% if("isbn" in errors) { %>
                                <input id="isbn" type="number" name="isbn" min="0000000000" max="9999999999999" placeholder="ISBN" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } else { %>
                                <input id="isbn" type="number" name="isbn" value="<%=body_data.isbn%>" min="0000000000" max="9999999999999" placeholder="ISBN" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } %>   
                        <% } else { %>
                            <input id="isbn" type="number" name="isbn" value="<%=old_data.isbn%>" min="0000000000" max="9999999999999" placeholder="ISBN" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                        <% } %>  
                        <% if(typeof errors !== "undefined") { %>
                            <% if('isbn' in errors) { %>
                                <span class="text-xs text-red-600"> <%= errors.isbn.msg %>  </span>
                            <% } %> 
                        <% } %> 
                    </div>
                    <div class="md:w-1/2 md:ml-3">
                        <label for="precio" class="block mb-2">Precio</label>
                        <% if(typeof errors !== "undefined" && typeof body_data !== "undefined") { %>
                            <% if("precio" in errors) { %>
                                <input id="precio" type="number" name="precio" min="0.01" step="0.01" placeholder="Precio" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } else { %>
                                <input id="precio" type="number" name="precio" value="<%=body_data.precio%>" min="0.01" step="0.01" placeholder="Precio" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                            <% } %>   
                        <% } else { %>
                            <input id="precio" type="number" name="precio" value="<%=old_data.precio%>" min="0.01" step="0.01" placeholder="Precio" class="block text-gray-800 text-sm form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300">
                        <% } %>  
                        <% if(typeof errors !== "undefined") { %>
                            <% if('precio' in errors) { %>
                                <span class="text-xs text-red-600"> <%= errors.precio.msg %>  </span>
                            <% } %> 
                        <% } %>  
                    </div>
                </div>
                <div class="md:flex">
                    <div class="mb-6 md:w-1/2 md:mr-3">
                        <label for="sinopsis" class="block mb-2">Sinopsis</label>
                        <% if(typeof errors !== "undefined" && typeof body_data !== "undefined") { %>
                            <% if("sinopsis" in errors) { %>
                                <textarea name="sinopsis" id="sinopsis" cols="20" rows="6" class="block text-gray-800 text-xs form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300"></textarea>    
                                <% } else { %>
                                    <textarea name="sinopsis" id="sinopsis" cols="20" rows="6" class="block text-gray-800 text-xs form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300"><%=body_data.sinopsis%></textarea>
                                <% } %>   
                            <% } else { %>
                                <textarea name="sinopsis" id="sinopsis" cols="20" rows="6" class="block text-gray-800 text-xs form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300"><%=old_data.sinopsis%></textarea>
                            <% } %>  
                            <% if(typeof errors !== "undefined") { %>
                                <% if('sinopsis' in errors) { %>
                                    <span class="text-xs text-red-600"> <%= errors.sinopsis.msg %>  </span>
                                    <% } %> 
                                    <% } %> 
                            </div>
                            <div class="mb-6 md:w-1/2 md:ml-3">
                                <label for="biografia" class="block mb-2">Biografía</label>
                                <% if(typeof errors !== "undefined" && typeof body_data !== "undefined") { %>
                                    <% if("biografia" in errors) { %>
                                        <textarea name="biografia" id="biografia" cols="30" rows="6" class="block text-gray-800 text-xs form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300"></textarea>    
                                        <% } else { %>
                                        <textarea name="biografia" id="biografia" cols="30" rows="6" class="block text-gray-800 text-xs form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300"><%=body_data.sinopsis%></textarea>
                                        <% } %>   
                                <% } else { %>
                                    <textarea name="biografia" id="biografia" cols="30" rows="6" class="block text-gray-800 text-xs form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300"><%=old_data.sinopsis%></textarea>
                                    <% } %>  
                                <% if(typeof errors !== "undefined") { %>
                                    <% if('biografia' in errors) { %>
                                        <span class="text-xs text-red-600"> <%= errors.biografia.msg %>  </span>
                                        <% } %> 
                                        <% } %> 
                            </div>
                    </div>
                    <div class="sm:flex">
                        <div class="mb-4 sm:w-1/2 sm:mr-3 rounded-md">
                            <label for="portada" class="cursor-pointer text-center  block form-input border-biblogreen-300 border-dashed py-4 box-border tracking-wide rounded-md hover:bg-biblogreen-100 duration-300">
                                <span class="text-biblogreen-700 text-3xl hover:text-biblogreen-800 block">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </span>
                                <span class=" text-biblogreen-700 font-medium hover:text-biblogreen-800 text-opacity-75 text-xs">Portada del libro<span>
                                <input id="portada" type="file" name="portada" class="hidden" value="<%= old_data.foto_autor %> ">
                            </label>
                        </div>
                        <div class="mb-4 sm:w-1/2 sm:ml-3 rounded-md">
                            <label for="foto_autor" class="cursor-pointer hover:text-biblogreen-800 text-center block form-input border-biblogreen-300 border-dashed py-4 box-border tracking-wide rounded-md hover:bg-biblogreen-100 duration-300">
                                <span class="text-biblogreen-700 hover:text-biblogreen-800 text-3xl block">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </span>
                                <span class="text-biblogreen-700 hover:text-biblogreen-800 font-medium text-opacity-75 text-xs">Foto del Autor<span>
                                <input id="foto_autor" type="file" name="foto_autor" class="hidden" value="<%= old_data.foto_autor %> ">
                            </label>
                        </div>
                    </div>
                    <div class="md:flex">
                        <button type="submit" class="block mb-4 md:mb-0 text-sm text-gray-800 form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300 hover:bg-biblogreen-100 tracking-widest focus:outline-none  focus:bg-biblogreen-200 md:mr-3">GUARDAR</button>
                        <button type="submit" formaction="/products/<%= old_data.id %>?_method=DELETE" class="block text-sm text-gray-800 form-input w-full border-biblogreen-200 focus:shadow-biblofocus focus:border-biblogreen-300 hover:bg-biblogreen-100 tracking-widest focus:outline-none  focus:bg-biblogreen-200 md:ml-3">ELIMINAR</button>
                    </div>
            </div>
        </form>
    </div>
    <%- include('./partials/footer') %> 
    </body>
    </html>